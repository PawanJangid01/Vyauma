@using Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Cms.Core.Models
@using Umbraco.Cms.Core.Models.Blocks
@using Umbraco.Cms.Core.Models.PublishedContent
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
	Layout = "MasterLayout.cshtml";
    
    //Banner
        var pageTitle = Model.Value<string>("pageTitle");
    var bannerImage = Model.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("image");

    //Our Story Section 
      var storyHeading = Model.Value<string>("storyHeading");
      var storyDescription = Model.Value<string>("storyDescription");
      var storyImage = Model.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("storyImage");

    // About Vyauma Section
    var sliderDescription = Model.Value<BlockListModel>("sliderDescription");
    var sliderImage = Model.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("sliderImage");

     //How we work Section 
      var workHeading = Model.Value<string>("workHeading");
      var workDescription = Model.Value<string>("workDescription");
      var workImage = Model.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("workImage");
}


    <!-- Page Title -->
    <div class="page-title dark-background" data-aos="fade" style="@(bannerImage != null 
        ? $"background-image:url('{bannerImage.Url()}'); background-size:cover; background-position:center;" 
        : "")">
      <div class="container">
        <h1>@pageTitle</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="/">Home</a></li>
            <li class="current">@pageTitle</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- About Section -->
    <section id="about" class="about section">

      <div class="container">

        <div class="row gy-4" data-aos="fade-up" data-aos-delay="100">
          <div class="col-lg-5">
              @if(storyImage != null)
              {
            <img src="@storyImage.Url()" class="img-fluid" alt="">
              }
          </div>
          <div class="col-lg-7" data-aos="fade-up" data-aos-delay="200">
            <div class="content">
              <h3>@storyHeading</h3>
              <p>
                @Html.Raw(storyDescription.ToString().Replace("<p>", "").Replace("</p>", ""))  
              </p>             
            </div>
          </div>
        </div>
      </div>
    </section><!-- /About Section -->

    <!-- Why Us Section -->
    <section id="why-us" class="why-us section">

      <div class="container">

        <div class="row g-0">

          <div class="col-xl-5 img-bg" data-aos="fade-up" data-aos-delay="100">
              @if(sliderImage != null)
              {
            <img src="@sliderImage.Url()" alt="">
              }
          </div>

          <div class="col-xl-7 slides position-relative" data-aos="fade-up" data-aos-delay="200">

            <div class="swiper init-swiper">
              <script type="application/json" class="swiper-config">
                {
                  "loop": true,
                  "speed": 600,
                  "autoplay": {
                    "delay": 5000
                  },
                  "slidesPerView": "auto",
                  "centeredSlides": true,
                  "pagination": {
                    "el": ".swiper-pagination",
                    "type": "bullets",
                    "clickable": true
                  },
                  "navigation": {
                    "nextEl": ".swiper-button-next",
                    "prevEl": ".swiper-button-prev"
                  }
                }
              </script>
              <div class="swiper-wrapper">
               @if ( sliderDescription != null && sliderDescription.Any())
                {   
                 @foreach (var slider in sliderDescription)
                 {
                       var content = slider.Content;          
                       var heading = content.Value<string>("heading");
                       var description = content.Value<string>("description");
                       <div class="swiper-slide">
                         <div class="item">
                           <h3 class="mb-3">@heading</h3>
                            @Html.Raw(description.ToString().Replace("<p>", "").Replace("</p>", ""))  
                         </div>
                       </div><!-- End slide item -->
                          
                        }
                    }               

              </div>
              <div class="swiper-pagination"></div>
            </div>

            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
          </div>

        </div>

      </div>

    </section><!-- /Why Us Section -->

    <!-- Call To Action Section -->

 @await Html.GetBlockGridHtmlAsync(Model, "ctaWidget") 

    <!-- How We Work  Section -->
     <section id="work" class="work section">

      <div class="container">

        <div class="row align-items-center gy-4" data-aos="fade-up" data-aos-delay="100">
          <div class="col-lg-5">
              @if(workImage != null)
              {
            <img src="@workImage.Url()" class="img-fluid" alt="">
              }
          </div>
          <div class="col-lg-7" data-aos="fade-up" data-aos-delay="200">
            <div class="content">
              <h3>@workHeading</h3>
              <p>
                @Html.Raw(workDescription.ToString().Replace("<p>", "").Replace("</p>", ""))  
              </p>             
            </div>
          </div>
        </div>
      </div>
    </section><!-- /How We Work Section -->